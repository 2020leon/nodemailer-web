<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.18.1" />
    <meta name="description" content="Nodemailer is a module for Node.js to send emails">
<meta name="author" content="Andris Reinman">

    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    
    <title>Create plugins</title>
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">
    <link href="/css/featherlight.min.css" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="/css/horsey.css" rel="stylesheet">
    <link href="/css/theme.css" rel="stylesheet">
    <link href="/css/hugo-theme.css" rel="stylesheet">
    <script src="/js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    

  </head>
  <body class="" data-url="/plugins/create/">
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">
  <img src="/nm_logo_200x136.png" alt="Nodemailer"/>
</a>

    </div>

    <p><a href="https://moonmail.io/?utm_source=nodemailer&amp;utm_campaign=nodemailer&amp;utm_medium=header-link">Proudly Sponsored by <b>MoonMail</b></a></p>

    
</div>


  <div class="highlightable">
      <div id="ads">
          <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=nodemailercom" id="_carbonads_js"></script>
      </div>
    <ul class="topics">
      
      
        
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
      
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/about/">
        <a href="/about/">
          <span>
            
              <b>1. </b>
            
             Nodemailer
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/about/migrate/">
              <a href="/about/migrate/">
                <span>Migration     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/about/license/">
              <a href="/about/license/">
                <span>License     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/usage/">
        <a href="/usage/">
          <span>
            
              <b>2. </b>
            
             Usage
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/usage/why-smtp/">
              <a href="/usage/why-smtp/">
                <span>SMTP? Say what?     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/usage/using-gmail/">
              <a href="/usage/using-gmail/">
                <span>Using Gmail     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/usage/bulk-mail/">
              <a href="/usage/bulk-mail/">
                <span>Delivering bulk mail     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/message/">
        <a href="/message/">
          <span>
            
              <b>3. </b>
            
             Message configuration
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/message/attachments/">
              <a href="/message/attachments/">
                <span>Attachments     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/message/alternatives/">
              <a href="/message/alternatives/">
                <span>Alternatives     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/message/addresses/">
              <a href="/message/addresses/">
                <span>Address object     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/message/calendar-events/">
              <a href="/message/calendar-events/">
                <span>Calendar events     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/message/embedded-images/">
              <a href="/message/embedded-images/">
                <span>Embedded images     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/message/list-headers/">
              <a href="/message/list-headers/">
                <span>List headers     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/message/custom-headers/">
              <a href="/message/custom-headers/">
                <span>Custom headers     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/message/custom-source/">
              <a href="/message/custom-source/">
                <span>Custom source     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/smtp/">
        <a href="/smtp/">
          <span>
            
              <b>4. </b>
            
             SMTP transport
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/smtp/envelope/">
              <a href="/smtp/envelope/">
                <span>SMTP envelope     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/smtp/pooled/">
              <a href="/smtp/pooled/">
                <span>Pooled SMTP     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/smtp/testing/">
              <a href="/smtp/testing/">
                <span>Testing SMTP     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/smtp/oauth2/">
              <a href="/smtp/oauth2/">
                <span>OAuth2     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/smtp/proxies/">
              <a href="/smtp/proxies/">
                <span>Proxy support     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/smtp/dsn/">
              <a href="/smtp/dsn/">
                <span>Delivery status notifications     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/transports/">
        <a href="/transports/">
          <span>
            
              <b>5. </b>
            
             Other transports
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/transports/sendmail/">
              <a href="/transports/sendmail/">
                <span>Sendmail transport     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/transports/ses/">
              <a href="/transports/ses/">
                <span>SES transport     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/transports/stream/">
              <a href="/transports/stream/">
                <span>Stream transport     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/plugins/">
        <a href="/plugins/">
          <span>
            
              <b>6. </b>
            
             Plugins
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item active" data-nav-id="/plugins/create/">
              <a href="/plugins/create/">
                <span>Create plugins     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/dkim/">
        <a href="/dkim/">
          <span>
            
              <b>7. </b>
            
             DKIM
            
           </span>
        </a>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/extras/">
        <a href="/extras/">
          <span>
            
              <b>8. </b>
            
             Extra modules
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/extras/smtp-server/">
              <a href="/extras/smtp-server/">
                <span>SMTP Server     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/extras/smtp-connection/">
              <a href="/extras/smtp-connection/">
                <span>SMTP Connection     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/extras/mailparser/">
              <a href="/extras/mailparser/">
                <span>Mailparser     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/extras/mailcomposer/">
              <a href="/extras/mailcomposer/">
                <span>Mailcomposer     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/extras/daemons/">
              <a href="/extras/daemons/">
                <span>Node.js daemons     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      <li class="dd-item">
        <a href="https://blog.nodemailer.com">
          <span>
             <b>9. </b>
             Blog
           </span>
        </a>
      </li>
      <li class="dd-item">
          <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
         <input type="hidden" name="cmd" value="_s-xclick">
         <input type="hidden" name="hosted_button_id" value="DB26KWR2BQX5W">
         <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
         <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
         </form>
      </li>
    </ul>
    <hr>
     
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    
                    
                <a href="/plugins/" itemprop="url"><span itemprop="title">Plugins</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                  
                
                  
                
                  
                
                <span itemprop="title"> Create plugins</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#including-plugins">Including plugins</a></li>
<li><a href="#plugin-api">Plugin API</a>
<ul>
<li><a href="#resolvecontent">resolveContent()</a>
<ul>
<li><a href="#example">Example</a></li>
</ul></li>
<li><a href="#compile">&lsquo;compile&rsquo;</a>
<ul>
<li><a href="#example-1">Example</a></li>
</ul></li>
<li><a href="#stream">&lsquo;stream&rsquo;</a>
<ul>
<li><a href="#example-2">Example</a></li>
<li><a href="#example-3">Example</a></li>
</ul></li>
<li><a href="#message-transform">message.transform()</a></li>
<li><a href="#message-getaddresses">message.getAddresses()</a></li>
</ul></li>
<li><a href="#transports">Transports</a>
<ul>
<li><a href="#transport-name">transport.name</a></li>
<li><a href="#transport-version">transport.version</a></li>
<li><a href="#transport-send-mail-callback">transport.send(mail, callback)</a></li>
<li><a href="#transport-close">transport.close()</a></li>
<li><a href="#transport-isidle">transport.isIdle()</a></li>
<li><a href="#transport-example">Transport Example</a></li>
</ul></li>
<li><a href="#wrapping-up">Wrapping up</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

              

            </div>
            
    	        <div id="body-inner">
                
                <h1>Create plugins</h1>
                



<p>There are 3 stages a plugin can hook to:</p>

<ol>
<li><strong>&lsquo;compile&rsquo;</strong> is the step where email data is set but nothing has been done with it yet. At this step you can modify mail options, for example modify <strong>html</strong> content, add new headers etc.</li>
<li><strong>&lsquo;stream&rsquo;</strong> is the step where message tree has been compiled and is ready to be streamed. At this step you can modify the generated MIME tree or add a transform stream that the generated raw email will be piped through before passed to the transport object</li>
<li><strong>Transport</strong> step where the raw email is streamed to destination</li>
</ol>

<h2 id="including-plugins">Including plugins</h2>

<p>&lsquo;compile&rsquo; and &lsquo;stream&rsquo; plugins can be attached with <code>use(plugin)</code> method</p>

<pre><code class="language-javascript">transporter.use(step, pluginFunc)
</code></pre>

<p>Where</p>

<ul>
<li><strong>transporter</strong> is a transport object created with <strong>createTransport()</strong></li>
<li><strong>step</strong> is a string, either <em>&lsquo;compile&rsquo;</em> or <em>&lsquo;stream&rsquo;</em> that defines when the plugin should be hooked</li>
<li><strong>pluginFunc</strong> is a function that takes two arguments: the mail object and a callback function</li>
</ul>

<h2 id="plugin-api">Plugin API</h2>

<p>All plugins (including transports) get two arguments, the mail object and a callback function.</p>

<p>Mail object that is passed to the plugin function as the first argument is an object with the following properties:</p>

<ul>
<li><strong>data</strong> is the mail data object that is passed to the <strong>sendMail()</strong> method</li>
<li><strong>message</strong> is the MimeNode object of the message. This is available for the &lsquo;stream&rsquo; step and for the transport but not for &lsquo;compile&rsquo;.</li>
<li><strong>resolveContent</strong> is a helper function for converting Nodemailer compatible stream objects into Strings or Buffers</li>
</ul>

<h3 id="resolvecontent">resolveContent()</h3>

<p>If your plugin needs to get the full value of a param, for example the String value for the <strong>html</strong> content, you can use <strong>resolveContent()</strong> to convert Nodemailer compatible content objects to Strings or Buffers.</p>

<pre><code class="language-javascript">mail.resolveContent(obj, key, callback)
</code></pre>

<p>Where</p>

<ul>
<li><strong>obj</strong> is an object that has a property you want to convert to a String or a Buffer</li>
<li><strong>key</strong> is the name of the property you want to convert</li>
<li><strong>callback</strong> is the callback function with <em>(err, value)</em> where <strong>value</strong> is either a String or Buffer, depending on the input</li>
</ul>

<h4 id="example">Example</h4>

<pre><code class="language-javascript">function plugin(mail, callback) {
    // if mail.data.html is a file or an url, it is returned as a Buffer
    mail.resolveContent(mail.data, 'html', (err, html) =&gt; {
        if(err){
            return callback(err);
        }
        console.log('HTML contents: %s', html.toString());
        callback();
    });
};
</code></pre>

<h3 id="compile">&lsquo;compile&rsquo;</h3>

<p>Compile step plugins get only the <strong>mail.data</strong> object but not <strong>mail.message</strong>. If you need to access the latter as well, use <em>&lsquo;stream&rsquo;</em> step instead.</p>

<p>This is really straightforward, your plugin can modify the <strong>mail.data</strong> object at will and once everything is finished run the callback function. If the callback gets an error object as an argument, then the process is terminated and the error is returned to the <strong>sendMail()</strong> callback.</p>

<h4 id="example-1">Example</h4>

<p>The following plugin checks if <strong>text</strong> value is set and if not converts <strong>html</strong> value by removing all html tags.</p>

<pre><code class="language-javascript">transporter.use('compile', (mail, callback) =&gt; {
    if(!mail.data.text &amp;&amp; mail.data.html){
        mail.data.text = mail.data.html.replace(/&lt;[^&gt;]*&gt;/g, ' ');
    }
    callback();
});
</code></pre>

<h3 id="stream">&lsquo;stream&rsquo;</h3>

<p>Streaming step is invoked once the message structure is built and ready to be streamed to the transport. Plugin function does get <strong>mail.data</strong> as an argument but it is included just for the reference, modifying it should not change anything (unless the transport requires something from the <strong>mail.data</strong>, for example <strong>mail.data.envelope</strong>).</p>

<p>You can modify the <strong>mail.message</strong> object as you like, the message is not yet streaming anything (message starts streaming when the transport calls <strong>mail.message.createReadStream()</strong>).</p>

<p>In most cases you might be interested in the <strong>message.transform()</strong> method for applying transform streams to the raw message.</p>

<h4 id="example-2">Example</h4>

<p>The following plugin replaces all tabs with spaces in the raw message.</p>

<pre><code class="language-javascript">let transformer = new (require('stream').Transform)();
transformer._transform = (chunk, encoding, done) =&gt; {
    // replace all tabs with spaces in the stream chunk
    for(let i = 0; i &lt; chunk.length; i++){
        if(chunk[i] === 0x09){
            chunk[i] = 0x20;
        }
    }
    this.push(chunk);
    done();
};

transporter.use('stream', (mail, callback) =&gt; {
    // apply output transformer to the raw message stream
    mail.message.transform(transformer);
    callback();
});
</code></pre>

<p>Additionally you might be interested in the <strong>message.getAddresses()</strong> method that returns the contents for all address fields as structured objects.</p>

<h4 id="example-3">Example</h4>

<p>The following plugin prints address information to console.</p>

<pre><code class="language-javascript">transporter.use('stream', function(mail, callback) =&gt; {
    let addresses = mail.message.getAddresses();
    console.log('From: %s', JSON.stringify(addresses.from));
    console.log('To: %s', JSON.stringify(addresses.to));
    console.log('Cc: %s', JSON.stringify(addresses.cc));
    console.log('Bcc: %s', JSON.stringify(addresses.bcc));
    callback();
});
</code></pre>

<h3 id="message-transform">message.transform()</h3>

<p>If you want to modify the created stream, you can add transform streams that the output will be piped through.</p>

<pre><code class="language-javascript">mail.message.transform(transformStream)
</code></pre>

<p>Where</p>

<ul>
<li><strong>transformStream</strong> - <em>Stream</em> or <em>Function</em> Transform stream that the output will go through. If the value is a function the function should return a transform stream object when called.</li>
</ul>

<h3 id="message-getaddresses">message.getAddresses()</h3>

<p>Returns an address container object. Includes all parsed addresses from <em>From</em>, <em>Sender</em>, <em>To</em>, <em>Cc</em>, <em>Bcc</em> and <em>Reply-To</em> fields. All returned values are arrays, including <code>from</code>.</p>

<p>Possible return values (all arrays in the form of <code>[{name:'', address:''}]</code>):</p>

<ul>
<li><strong>from</strong></li>
<li><strong>sender</strong></li>
<li><strong>&lsquo;reply-to&rsquo;</strong></li>
<li><strong>to</strong></li>
<li><strong>cc</strong></li>
<li><strong>bcc</strong></li>
</ul>

<p>If no addresses were found for a particular field, the field is not set in the response object.</p>

<h2 id="transports">Transports</h2>

<p>Transports are objects that have a method <strong>send()</strong> and properies <strong>name</strong> and <strong>version</strong>. A transport object is passed to the <code>nodemailer.createTransport(transport)</code> method to create the transporter object.</p>

<h3 id="transport-name">transport.name</h3>

<p>This is the name of the transport object. For example &lsquo;SMTP&rsquo; or &lsquo;SES&rsquo; etc.</p>

<pre><code class="language-javascript">transport.name = require('package.json').name;
</code></pre>

<h3 id="transport-version">transport.version</h3>

<p>This should be the transport module version. For example &lsquo;0.1.0&rsquo;.</p>

<pre><code class="language-javascript">transport.version = require('package.json').version;
</code></pre>

<h3 id="transport-send-mail-callback">transport.send(mail, callback)</h3>

<p>This is the method that actually sends out emails. The method is basically the same as &lsquo;stream&rsquo; plugin functions. It gets two arguments: <strong>mail</strong> and a callback. To start streaming the message, create the stream with <strong>mail.message.createReadStream()</strong></p>

<p>Callback function should return an <strong>info</strong> object as the second argument. This info object should contain and <strong>envelope</strong> object with envelope data and a <strong>messageId</strong> value with the Message-Id header (including the surrounding &lt; &amp; &gt; brackets),</p>

<p>The following example pipes the raw stream from Nodemailer to the console.</p>

<pre><code class="language-javascript">transport.send = (mail, callback) =&gt; {
    let input = mail.message.createReadStream();
    let envelope = mail.message.getEnvelope();
    let messageId = mail.message.messageId();
    input.pipe(process.stdout);
    input.on('end', function() {
        callback(null, {
            envelope,
            messageId
        });
    });
};
</code></pre>

<h3 id="transport-close">transport.close()</h3>

<p>If your transport needs to be closed explicitly, you can implement a <strong>close()</strong> method.</p>

<p>This is purely optional feature and only makes sense in special contexts (eg. closing a SMTP pool).</p>

<pre><code class="language-javascript">transport.close = () =&gt; {
    transport.pool = null;
};
</code></pre>

<h3 id="transport-isidle">transport.isIdle()</h3>

<p>If your transport is able to notify about idling state by issuing <em>&lsquo;idle&rsquo;</em> events then this method should return if the transport is still idling or not.</p>

<pre><code class="language-javascript">transport.idling = true;
transport.isIdle = () =&gt; transport.idling;
transport.send = (mail, callback) =&gt; {
    transport.idling = false;
    sendMail(mail, ()=&gt;{
        transport.idling = true;
        transport.emit('idle');
    });
};
</code></pre>

<h3 id="transport-example">Transport Example</h3>

<p>This example creates and uses a transport object that pipes the raw message to console</p>

<pre><code class="language-javascript">let transport = {
    name: 'minimal',
    version: '0.1.0',
    send: (mail, callback) =&gt; {
        let input = mail.message.createReadStream();
        input.pipe(process.stdout);
        input.on('end', function () {
            callback(null, true);
        });
    }
};

let transporter = nodemailer.createTransport(transport);
transporter.sendMail({
    from: 'sender',
    to: 'receiver',
    subject: 'hello',
    text: 'hello world!'
});
</code></pre>

<h2 id="wrapping-up">Wrapping up</h2>

<p>Once you have a transport object, you can create a mail transporter out of it.</p>

<pre><code class="language-javascript">let transport = require('some-transport-method');
let transporter = nodemailer.createTransport(transport);
transporter.sendMail({
    from: '...',
    to: '...',
    message
});
</code></pre>


      
      </div>
    </div>

    <div id="navigation">
        
        <a class="nav nav-prev" href="/plugins/"> <i class="fa fa-chevron-left"></i></a>
        <a class="nav nav-next" href="/dkim/" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/perfect-scrollbar.min.js"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="/js/jquery.sticky-kit.min.js"></script>
    <script src="/js/featherlight.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/learn.js"></script>
    <script src="/js/hugo-learn.js"></script>
    

    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-51322-34', 'auto');
ga('send', 'pageview');
</script>

  </body>
</html>

